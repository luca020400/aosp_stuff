From a7c2d28cf83a33aeebe7d260b34904ee01ca060e Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?M=C3=A5rten=20Kongstad?= <marten.kongstad@sony.com>
Date: Fri, 16 Dec 2016 10:47:16 +0100
Subject: [PATCH 08/15] Add test packages for runtime resource overlay

Add a test app and overlays. These can be used for manual testing and
for quick demos.

See tests/Overlays/README for details.

Test: manual
Change-Id: Ib20136ab751f50331d3e821f41eae35fb7b84686
---
 tests/Overlays/README                              |  34 +++
 tests/Overlays/blue/Android.mk                     |  10 +
 tests/Overlays/blue/AndroidManifest.xml            |   5 +
 tests/Overlays/blue/res/values/colors.xml          |   4 +
 tests/Overlays/blue/res/values/strings.xml         |   4 +
 tests/Overlays/green/Android.mk                    |  10 +
 tests/Overlays/green/AndroidManifest.xml           |   5 +
 tests/Overlays/green/res/values/colors.xml         |   5 +
 tests/Overlays/green/res/values/strings.xml        |   4 +
 tests/Overlays/red/Android.mk                      |  10 +
 tests/Overlays/red/AndroidManifest.xml             |   5 +
 tests/Overlays/red/res/values/colors.xml           |   6 +
 tests/Overlays/red/res/values/strings.xml          |   4 +
 tests/Overlays/system/Android.mk                   |  12 ++
 tests/Overlays/system/AndroidManifest.xml          |   5 +
 tests/Overlays/system/res/values/colors.xml        |   5 +
 tests/Overlays/target/Android.mk                   |  14 ++
 tests/Overlays/target/AndroidManifest.xml          |  23 ++
 tests/Overlays/target/res/layout/activity_main.xml | 234 +++++++++++++++++++++
 .../target/res/mipmap-hdpi/ic_launcher.png         | Bin 0 -> 4284 bytes
 .../target/res/mipmap-mdpi/ic_launcher.png         | Bin 0 -> 2415 bytes
 .../target/res/mipmap-xhdpi/ic_launcher.png        | Bin 0 -> 5885 bytes
 .../target/res/mipmap-xxhdpi/ic_launcher.png       | Bin 0 -> 9808 bytes
 tests/Overlays/target/res/values/colors.xml        |   6 +
 tests/Overlays/target/res/values/strings.xml       |   4 +
 tests/Overlays/target/res/values/styles.xml        |   4 +
 .../android/test/overlay/target/MainActivity.java  | 216 +++++++++++++++++++
 27 files changed, 629 insertions(+)
 create mode 100644 tests/Overlays/README
 create mode 100644 tests/Overlays/blue/Android.mk
 create mode 100644 tests/Overlays/blue/AndroidManifest.xml
 create mode 100644 tests/Overlays/blue/res/values/colors.xml
 create mode 100644 tests/Overlays/blue/res/values/strings.xml
 create mode 100644 tests/Overlays/green/Android.mk
 create mode 100644 tests/Overlays/green/AndroidManifest.xml
 create mode 100644 tests/Overlays/green/res/values/colors.xml
 create mode 100644 tests/Overlays/green/res/values/strings.xml
 create mode 100644 tests/Overlays/red/Android.mk
 create mode 100644 tests/Overlays/red/AndroidManifest.xml
 create mode 100644 tests/Overlays/red/res/values/colors.xml
 create mode 100644 tests/Overlays/red/res/values/strings.xml
 create mode 100644 tests/Overlays/system/Android.mk
 create mode 100644 tests/Overlays/system/AndroidManifest.xml
 create mode 100644 tests/Overlays/system/res/values/colors.xml
 create mode 100644 tests/Overlays/target/Android.mk
 create mode 100644 tests/Overlays/target/AndroidManifest.xml
 create mode 100644 tests/Overlays/target/res/layout/activity_main.xml
 create mode 100644 tests/Overlays/target/res/mipmap-hdpi/ic_launcher.png
 create mode 100644 tests/Overlays/target/res/mipmap-mdpi/ic_launcher.png
 create mode 100644 tests/Overlays/target/res/mipmap-xhdpi/ic_launcher.png
 create mode 100644 tests/Overlays/target/res/mipmap-xxhdpi/ic_launcher.png
 create mode 100644 tests/Overlays/target/res/values/colors.xml
 create mode 100644 tests/Overlays/target/res/values/strings.xml
 create mode 100644 tests/Overlays/target/res/values/styles.xml
 create mode 100644 tests/Overlays/target/src/com/android/test/overlay/target/MainActivity.java

diff --git a/tests/Overlays/README b/tests/Overlays/README
new file mode 100644
index 00000000000..47107e585a5
--- /dev/null
+++ b/tests/Overlays/README
@@ -0,0 +1,34 @@
+Manual tests for runtime resource overlays
+
+This directory contains
+
+    - target: app which will have its resources overlaid
+    - red, green, blue: overlay packages for target app
+    - system: overlay package for the Android framework
+
+Install the apks and grant the target app the required permission:
+
+    $ adb root
+    $ adb remount
+    $ adb exec-out stop
+    $ adb sync vendor
+    $ adb exec-out start
+    $ adb install $OUT/data/app/OverlaysTarget/OverlaysTarget.apk
+    $ adb exec-out pm grant com.android.test.overlay.target \
+                            android.permission.CHANGE_OVERLAY_PACKAGES
+
+The Target app contains buttons to enable or disable the overlays, and to
+change their priority. Alternatively, commands can be passed via adb:
+
+    $ adb root
+    $ adb exec-out cmd overlay list
+    $ adb exec-out cmd overlay enable com.android.test.overlay.red
+
+The app displays three color blobs. Without any enabled overlays, they blobs
+will all be gray. When enabled, the red overlay makes all three fields red, the
+green makes two of them green and the blue overlay makes one of them blue. By
+changing the priority of the overlays the fields can be red, green, blue, or
+all red, or something in between.
+
+The system overlay modifies the framework's black and white colors. These show
+up in many UI elements, such as the power dialog (long press the power key).
diff --git a/tests/Overlays/blue/Android.mk b/tests/Overlays/blue/Android.mk
new file mode 100644
index 00000000000..ece4bc65027
--- /dev/null
+++ b/tests/Overlays/blue/Android.mk
@@ -0,0 +1,10 @@
+LOCAL_PATH:= $(call my-dir)
+include $(CLEAR_VARS)
+
+LOCAL_MODULE_TAGS := optional
+
+LOCAL_PACKAGE_NAME := OverlaysBlue
+
+LOCAL_MODULE_TAGS := tests
+
+include $(BUILD_RRO_PACKAGE)
diff --git a/tests/Overlays/blue/AndroidManifest.xml b/tests/Overlays/blue/AndroidManifest.xml
new file mode 100644
index 00000000000..119891d7fa7
--- /dev/null
+++ b/tests/Overlays/blue/AndroidManifest.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="com.android.test.overlay.blue" >
+    <overlay android:targetPackage="com.android.test.overlay.target"/>
+</manifest>
diff --git a/tests/Overlays/blue/res/values/colors.xml b/tests/Overlays/blue/res/values/colors.xml
new file mode 100644
index 00000000000..67f2b4961b7
--- /dev/null
+++ b/tests/Overlays/blue/res/values/colors.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <color name="blue">#0000ff</color>
+</resources>
diff --git a/tests/Overlays/blue/res/values/strings.xml b/tests/Overlays/blue/res/values/strings.xml
new file mode 100644
index 00000000000..c02448a9b7f
--- /dev/null
+++ b/tests/Overlays/blue/res/values/strings.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <string name="str">blue</string>
+</resources>
diff --git a/tests/Overlays/green/Android.mk b/tests/Overlays/green/Android.mk
new file mode 100644
index 00000000000..f1472f812a0
--- /dev/null
+++ b/tests/Overlays/green/Android.mk
@@ -0,0 +1,10 @@
+LOCAL_PATH:= $(call my-dir)
+include $(CLEAR_VARS)
+
+LOCAL_MODULE_TAGS := optional
+
+LOCAL_PACKAGE_NAME := OverlaysGreen
+
+LOCAL_MODULE_TAGS := tests
+
+include $(BUILD_RRO_PACKAGE)
diff --git a/tests/Overlays/green/AndroidManifest.xml b/tests/Overlays/green/AndroidManifest.xml
new file mode 100644
index 00000000000..7c9493a412f
--- /dev/null
+++ b/tests/Overlays/green/AndroidManifest.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="com.android.test.overlay.green" >
+    <overlay android:targetPackage="com.android.test.overlay.target"/>
+</manifest>
diff --git a/tests/Overlays/green/res/values/colors.xml b/tests/Overlays/green/res/values/colors.xml
new file mode 100644
index 00000000000..798dc9f835a
--- /dev/null
+++ b/tests/Overlays/green/res/values/colors.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <color name="green">#00ff00</color>
+    <color name="blue">#00ff00</color>
+</resources>
diff --git a/tests/Overlays/green/res/values/strings.xml b/tests/Overlays/green/res/values/strings.xml
new file mode 100644
index 00000000000..f2a0ae62169
--- /dev/null
+++ b/tests/Overlays/green/res/values/strings.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <string name="str">green</string>
+</resources>
diff --git a/tests/Overlays/red/Android.mk b/tests/Overlays/red/Android.mk
new file mode 100644
index 00000000000..d897f336c29
--- /dev/null
+++ b/tests/Overlays/red/Android.mk
@@ -0,0 +1,10 @@
+LOCAL_PATH:= $(call my-dir)
+include $(CLEAR_VARS)
+
+LOCAL_MODULE_TAGS := optional
+
+LOCAL_PACKAGE_NAME := OverlaysRed
+
+LOCAL_MODULE_TAGS := tests
+
+include $(BUILD_RRO_PACKAGE)
diff --git a/tests/Overlays/red/AndroidManifest.xml b/tests/Overlays/red/AndroidManifest.xml
new file mode 100644
index 00000000000..8c2c8ec62a1
--- /dev/null
+++ b/tests/Overlays/red/AndroidManifest.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="com.android.test.overlay.red" >
+    <overlay android:targetPackage="com.android.test.overlay.target"/>
+</manifest>
diff --git a/tests/Overlays/red/res/values/colors.xml b/tests/Overlays/red/res/values/colors.xml
new file mode 100644
index 00000000000..28656e7427c
--- /dev/null
+++ b/tests/Overlays/red/res/values/colors.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <color name="red">#ff0000</color>
+    <color name="green">#ff0000</color>
+    <color name="blue">#ff0000</color>
+</resources>
diff --git a/tests/Overlays/red/res/values/strings.xml b/tests/Overlays/red/res/values/strings.xml
new file mode 100644
index 00000000000..27b941b8052
--- /dev/null
+++ b/tests/Overlays/red/res/values/strings.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <string name="str">red</string>
+</resources>
diff --git a/tests/Overlays/system/Android.mk b/tests/Overlays/system/Android.mk
new file mode 100644
index 00000000000..ab67287be1c
--- /dev/null
+++ b/tests/Overlays/system/Android.mk
@@ -0,0 +1,12 @@
+LOCAL_PATH:= $(call my-dir)
+include $(CLEAR_VARS)
+
+LOCAL_MODULE_TAGS := optional
+
+LOCAL_PACKAGE_NAME := OverlaysSystem
+
+LOCAL_MODULE_TAGS := tests
+
+LOCAL_CERTIFICATE := platform
+
+include $(BUILD_RRO_PACKAGE)
diff --git a/tests/Overlays/system/AndroidManifest.xml b/tests/Overlays/system/AndroidManifest.xml
new file mode 100644
index 00000000000..2af11f5defc
--- /dev/null
+++ b/tests/Overlays/system/AndroidManifest.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="com.android.test.overlay.system" >
+    <overlay android:targetPackage="android"/>
+</manifest>
diff --git a/tests/Overlays/system/res/values/colors.xml b/tests/Overlays/system/res/values/colors.xml
new file mode 100644
index 00000000000..071e740155e
--- /dev/null
+++ b/tests/Overlays/system/res/values/colors.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <color name="white">#ffff9800</color> <!-- orange -->
+    <color name="black">#ffe91e63</color> <!-- pink -->
+</resources>
diff --git a/tests/Overlays/target/Android.mk b/tests/Overlays/target/Android.mk
new file mode 100644
index 00000000000..599dba7cd4c
--- /dev/null
+++ b/tests/Overlays/target/Android.mk
@@ -0,0 +1,14 @@
+LOCAL_PATH:= $(call my-dir)
+include $(CLEAR_VARS)
+
+LOCAL_MODULE_TAGS := optional
+
+LOCAL_SRC_FILES := $(call all-subdir-java-files)
+
+LOCAL_PACKAGE_NAME := OverlaysTarget
+
+LOCAL_MODULE_TAGS := tests
+
+LOCAL_CERTIFICATE := platform
+
+include $(BUILD_PACKAGE)
diff --git a/tests/Overlays/target/AndroidManifest.xml b/tests/Overlays/target/AndroidManifest.xml
new file mode 100644
index 00000000000..bc9918817b8
--- /dev/null
+++ b/tests/Overlays/target/AndroidManifest.xml
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="utf-8"?>
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="com.android.test.overlay.target"
+    android:versionCode="1"
+    android:versionName="1" >
+
+    <uses-permission android:name="android.permission.CHANGE_OVERLAY_PACKAGES" />
+
+    <application
+        android:allowBackup="false"
+        android:icon="@mipmap/ic_launcher"
+        android:label="@string/app_name"
+        android:theme="@style/AppTheme" >
+        <activity
+            android:name=".MainActivity"
+            android:label="@string/app_name" >
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+                <category android:name="android.intent.category.LAUNCHER" />
+            </intent-filter>
+        </activity>
+    </application>
+</manifest>
diff --git a/tests/Overlays/target/res/layout/activity_main.xml b/tests/Overlays/target/res/layout/activity_main.xml
new file mode 100644
index 00000000000..3ebc0d34792
--- /dev/null
+++ b/tests/Overlays/target/res/layout/activity_main.xml
@@ -0,0 +1,234 @@
+<ScrollView
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    >
+
+    <LinearLayout
+        android:orientation="vertical"
+        android:layout_height="match_parent"
+        android:paddingLeft="16dp"
+        android:paddingRight="16dp"
+        android:paddingTop="16dp"
+        android:paddingBottom="16dp"
+        android:layout_width="wrap_content">
+
+    <TextView
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textAppearance="?android:attr/textAppearanceLarge"
+        android:text="Application resources"
+        android:paddingBottom="8dp" />
+
+    <TableLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_alignParentTop="true"
+        android:layout_alignParentStart="true">
+
+        <TableRow
+            android:layout_width="fill_parent"
+            android:layout_height="match_parent">
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:textAppearance="?android:attr/textAppearanceMedium"
+                android:text="Red"
+                android:paddingRight="16dp"
+                />
+
+            <View
+                android:layout_width="wrap_content"
+                android:layout_height="18sp"
+                android:background="@color/red"
+                />
+        </TableRow>
+
+        <TableRow
+            android:layout_width="fill_parent"
+            android:layout_height="match_parent">
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:textAppearance="?android:attr/textAppearanceMedium"
+                android:text="Green"
+                android:paddingRight="16dp"
+                />
+
+            <View
+                android:layout_width="wrap_content"
+                android:layout_height="18sp"
+                android:background="@color/green"
+                />
+        </TableRow>
+
+        <TableRow
+            android:layout_width="fill_parent"
+            android:layout_height="match_parent">
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:textAppearance="?android:attr/textAppearanceMedium"
+                android:text="Blue"
+                android:paddingRight="16dp"
+                />
+
+            <View
+                android:layout_width="wrap_content"
+                android:layout_height="18sp"
+                android:background="@color/blue"
+                />
+        </TableRow>
+
+        <TableRow
+            android:layout_width="fill_parent"
+            android:layout_height="match_parent">
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:textAppearance="?android:attr/textAppearanceMedium"
+                android:text="String"
+                android:paddingRight="16dp"
+                />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:textAppearance="?android:attr/textAppearanceMedium"
+                android:text="@string/str"
+                android:paddingRight="16dp"
+                />
+        </TableRow>
+    </TableLayout>
+
+    <TextView
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textAppearance="?android:attr/textAppearanceLarge"
+        android:text="System resources"
+        android:paddingTop="16dp"
+        android:paddingBottom="8dp" />
+
+    <TableLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_alignParentTop="true"
+        android:layout_alignParentStart="true">
+
+        <TableRow
+            android:layout_width="fill_parent"
+            android:layout_height="match_parent">
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:textAppearance="?android:attr/textAppearanceMedium"
+                android:text="Black"
+                android:paddingRight="16dp"
+                />
+
+            <View
+                android:layout_width="wrap_content"
+                android:layout_height="18sp"
+                android:background="@android:color/black"
+                />
+        </TableRow>
+
+        <TableRow
+            android:layout_width="fill_parent"
+            android:layout_height="match_parent">
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:textAppearance="?android:attr/textAppearanceMedium"
+                android:text="White"
+                android:paddingRight="16dp"
+                />
+
+            <View
+                android:layout_width="wrap_content"
+                android:layout_height="18sp"
+                android:background="@android:color/white"
+                />
+        </TableRow>
+
+    </TableLayout>
+
+    <TextView
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textAppearance="?android:attr/textAppearanceLarge"
+        android:text="Controls"
+        android:paddingTop="16dp"
+        android:paddingBottom="8dp" />
+
+    <GridLayout
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_alignParentTop="true"
+        android:layout_alignParentStart="true"
+        android:columnCount="2"
+        android:rowCount="3">
+
+        <Button
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textAppearance="?android:attr/textAppearanceMedium"
+            android:padding="16dp"
+            android:text="Enable red"
+            android:id="@+id/enableRedButton"
+            />
+
+        <Button
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textAppearance="?android:attr/textAppearanceMedium"
+            android:padding="16dp"
+            android:text="Disable red"
+            android:id="@+id/disableRedButton"
+            />
+
+        <Button
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textAppearance="?android:attr/textAppearanceMedium"
+            android:padding="16dp"
+            android:text="Enable all"
+            android:id="@+id/enableAllButton"
+            />
+
+        <Button
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textAppearance="?android:attr/textAppearanceMedium"
+            android:padding="16dp"
+            android:text="Disable all"
+            android:id="@+id/disableAllButton"
+            />
+
+        <Button
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textAppearance="?android:attr/textAppearanceMedium"
+            android:padding="16dp"
+            android:text="Sort"
+            android:id="@+id/sortButton"
+            />
+
+        <Button
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textAppearance="?android:attr/textAppearanceMedium"
+            android:padding="16dp"
+            android:text="Shuffle"
+            android:id="@+id/shuffleButton"
+            />
+
+    </GridLayout>
+</LinearLayout>
+</ScrollView>
diff --git a/tests/Overlays/target/res/mipmap-hdpi/ic_launcher.png b/tests/Overlays/target/res/mipmap-hdpi/ic_launcher.png
new file mode 100644
index 0000000000000000000000000000000000000000..dbb6461b609312df40ddafd75003f665b66470a1
GIT binary patch
literal 4284
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

literal 0
HcmV?d00001

diff --git a/tests/Overlays/target/res/mipmap-mdpi/ic_launcher.png b/tests/Overlays/target/res/mipmap-mdpi/ic_launcher.png
new file mode 100644
index 0000000000000000000000000000000000000000..14240d6d4d75c5b55c884eaf85bda222add63746
GIT binary patch
literal 2415
zcmV-#36S=QP)<h;3K|Lk000e1NJLTq001xm001xu1^@s6R|5Hm000R#Nkl<ZXhZE;
zeNYtV8Gm*;Jdm&BfJ5$ph!UVA;s;Sc@e=|l4oW*|&7`B&QZ=+@G$v*`skImrr=g8)
zt%;#3g@4SnnJ95Wh=NEI6ngTZ2&ITY`6_S+$fqFOcHZ56_jdR8ZWkld$+SCz-tGIo
z&pyB3^Lu{#?kxe|@q_q|=MVoA0La+Hh*fu+O--izrmh*T7~%Vj@0^fu?`QvUvH2PR
zSmdrJTLE2&&OhsH@`LuK!P0lP6{G>cgj~>XF|IyvCZ)g-?!NZDtwllIEyF!>v19=N
zfM$PA%Eft6+NJ0IcxOlP*}6O>%*b6>Vw_yNC35?wJrSo{>daNgGs}_y;GtX`B>-H4
z!hMqW|K-I`rpBS~-R&1+`a1gB9Rx-(rQ%Wmfc_*8tzH{+Aa~UbCuhq0*v_wi)Ool6
z5&%4U8URo-KIwa+k0!nnp3!i%H}}Mwmv#ccBpV!!lLmu_MjsZi$lKr&=Bs!2CrFDQ
zK@e(+qQ)r;*=y<??lyIfG<7%i)OB<W4X{<jfK)qwyXI8nO6|6iyylz>AK!i(0L+d6
zV_-@ufaW^8xy_1rBX9lZx<L29+_x$=7|Xu7tkr7WqE-iNcy5J0WnPre3Rh33&?ySx
zV)CLygp-65j15fPZK*Y1YpCifYWTXh&}1@=E?gIq@RK7;zUX-{-1fVS(zJ=;i6#Je
zEXO_?R|){lb6*f2{PM2%<3H;E_xPQP^WWser-yFU1gMr$)D)XAzN9n&in1z*APDI1
zd|Xv=z9m0y^E11>{GB6n-l*Kwc%$<Z02ooi{&WDKxg-Dt?E5h3)6gY8u>=rc!7j%p
zW=&5H03JsS5<r0knvLd)6R(y15CD)>%i8C3B}B_8EhGB1bw3U}<m>_-0(pE308Anj
zJRYNlO7ia>D$2WkoY!BnDpD#Tb;hBDcb2T5v!4PBs)SYFJXt(R1uy_c4us`qVOMtk
zk%~hAFfN<D!X9wW$Vxc6B-wvIW?dQk3{3uE?E$NV_yB;SXi44tsyjRXa5-`!*+!PD
zfYbM1joFj1ZT<%U6g}5*^46rq4#aO@t4j%+9sytv>SAuo-ojJ2P5=Po5Oxkn0Eh+4
zLsss}j{6dvEVFIaQxqUuv`|w#p7|n@XCJTUD#i5@1=JKda{A31DR(M6%N;qAT>x4w
zc<wuue$`vAjuPnrd|l_lLfs~CRe3`D&@HI#y#UxsZK{MR<=AC_FVby-K#zqmHu(^$
zyFUZd=si4>BgEV>QF}78aFxjfL({DQnf9~Ady{?|{(HtGglwjTW`Rbn=VD%II|=s(
zjjW&8?iR$_5Aj+CYl2?o*7rYZhjYzH^0qg>;?wu`eR1a2pX^zyWCb)DjppsYCEj-R
za0(P7N9?^4`4Qc0_^9i>0JS{@-2GR)MhsxFE*%!>(8d<Gum$q!Ggvta2^brkYJ30X
zt5E|318DnUb4URo5?*?K$L80cJH;R5hfN6H1A!ilve4GytJZAj8Eui2syKPHMmPIe
zNC`OrPK1h%@nEP1id+9+v-Q9gDLB@!qwLe>ze-&|3V`!3^HRUmhq))%)19lz10uBR
zz=iDrlz`OX$a#W27ekOc(*up>OE5M$XafM7ZF}SJr4KSnQl)Iw27sTR+niq)Y-|OB
zQd_r5c6Y&&tTAoFUnBN?hFfue*;p^0V}VBpe^5Mkq-UgCOq3V^5uGr1)Al3F&e>z%
zs#^!3B$DT)EK~x|I&FG~2QvR)&F0$Dw$H^f5(6MN?q2wtq-|jb`AsV24)y>_F)vKs
zmVGhvg6pvWi}UYg73S0*7Q2xcfb-7m)%nlI>$b>Mz=kc6)$+FyqFb5*>DYp-FYi8k
z=B>)D;*Fjdfch85R~Lr8pj)RH042?zRcic5^17E|AD#P`(NuDBZ^Z`jj|yS{E?bT+
zElnAXk98aJq~%7?j{(AiUWEQ(^P%NNFpbNM;jqmA=qo+Ou0hLq%LTzXI_TKAb_6tZ
z+`oSC@41Lr!E>@0fa~GZHKnjZ6BApU1g@iQY%aWxAcUW}t1}pwY`Lg}6$=LKsI)w-
z;a<YzR6lI2%&dK9EdY%1L)ZZLI4-p`DBLTiCTs$hUr7envDr8?W*u6A|5)akym^Up
z6=0X5BGR<8b1akyD4P=QBQ#fJa>o9K%1mRH5&#=Zqy6+TU4A2Qd;TOWFG~WKaaUgQ
zh!Zvu9@F$GPB}bY=<@_CA?7?SCsM>6*B;XLT-|r4a(C4<0H6zX`VT{W$P~n1Nr71t
zY5?}4G~4_>;Lfv5@~VO7GCjacn%`PH#)UR)70VL=K+9VVgV3TUA?{id%zCW0N?wqR
zwOP5Y#aIwH)~N)QzyK5^k3u~$02)N#AhZOiAg(--u7rR|0o$SuB~cR-K+&4#NeO|%
zHY6h*9C3O8d;?;{W<i6{J40Ogi=gIJ0?P^;kYF9wIciSiUbq*y^UQ2}vf*M;6jYlV
zDt9Yu;?&Y;A6oz@*uCIEXq__~R+J}#YEor&C)^S?8xtfSwq3+c%NdXTJr#qFd7!H9
zdkO#$Q_b@Rpi8TPxa(`dX-dU4wzy&h(l~Pm6SB|i9eL)hPlLujg*JLJc7xpt;3S*o
z_k+pH4`M1;1IheM#Pd-0Bi+0Vg#^jW;XBcEl1FQwDgYGlpP~I=_V9<8%9TKZlb`^!
z$J0$}%f4*lJlWu&D9lZzH!>v^z=7){%rLArzzfEBASs4rS|O};GS*{tAF<3Nzq6X>
zCyzeQ2mloLR-_pose&Q;=5iqM9UAY}u-@@^IRti+pAG<*<4aS{$Lb8pa@XP*0t#vt
zn1Hf`!s5DRKrlbx33`J0E)&r~@@Qpwzp?0bV|KdSZq#|bAv7Z^YSo_!lJ*hn!MPoO
z%g78<1O+uwW;-C*jhmzVk;nx*QQ>3@WwHFK@mOX_N7WhegT0M&1AzZahVT76Q9n0X
zO_E;IsYGp5ANZLUfuSwPdZ$&wJa-WaDAAjNQDW@j<?ic6pS4~75CG6ay<mn^_*nqp
z3jp5eoq$pRGdK^u*6nBCnc2MJwZ{+gMf9r^eLI@L<m5slVIjuRi#N$%ssEeF$tAC7
h{Qm$H(KLgT{sZ0gFl}ncjZ^>t002ovPDHLkV1nVIjfnsN

literal 0
HcmV?d00001

diff --git a/tests/Overlays/target/res/mipmap-xhdpi/ic_launcher.png b/tests/Overlays/target/res/mipmap-xhdpi/ic_launcher.png
new file mode 100644
index 0000000000000000000000000000000000000000..9a58765663828133e36d3b8858cdc19f52043e66
GIT binary patch
literal 5885
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
Tu#u-A00000NkvXXu0mjf9K|+7

literal 0
HcmV?d00001

diff --git a/tests/Overlays/target/res/mipmap-xxhdpi/ic_launcher.png b/tests/Overlays/target/res/mipmap-xxhdpi/ic_launcher.png
new file mode 100644
index 0000000000000000000000000000000000000000..99461fb7537a25b25f5a9e82a8dc4ff978fbba12
GIT binary patch
literal 9808
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

literal 0
HcmV?d00001

diff --git a/tests/Overlays/target/res/values/colors.xml b/tests/Overlays/target/res/values/colors.xml
new file mode 100644
index 00000000000..93e980c9cbe
--- /dev/null
+++ b/tests/Overlays/target/res/values/colors.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <color name="red">#dddddd</color>
+    <color name="green">#dddddd</color>
+    <color name="blue">#dddddd</color>
+</resources>
diff --git a/tests/Overlays/target/res/values/strings.xml b/tests/Overlays/target/res/values/strings.xml
new file mode 100644
index 00000000000..6b1c09c3257
--- /dev/null
+++ b/tests/Overlays/target/res/values/strings.xml
@@ -0,0 +1,4 @@
+<resources>
+    <string name="app_name">Target</string>
+    <string name="str">vanilla</string>
+</resources>
diff --git a/tests/Overlays/target/res/values/styles.xml b/tests/Overlays/target/res/values/styles.xml
new file mode 100644
index 00000000000..b60a4da7d38
--- /dev/null
+++ b/tests/Overlays/target/res/values/styles.xml
@@ -0,0 +1,4 @@
+<resources>
+    <style name="AppTheme" parent="android:Theme.Material.Light">
+    </style>
+</resources>
diff --git a/tests/Overlays/target/src/com/android/test/overlay/target/MainActivity.java b/tests/Overlays/target/src/com/android/test/overlay/target/MainActivity.java
new file mode 100644
index 00000000000..dd6ed5bcc45
--- /dev/null
+++ b/tests/Overlays/target/src/com/android/test/overlay/target/MainActivity.java
@@ -0,0 +1,216 @@
+package com.android.test.overlay.target;
+
+import static android.os.UserHandle.USER_CURRENT;
+import static android.os.UserHandle.USER_SYSTEM;
+
+import android.app.Activity;
+import android.content.om.IOverlayManager;
+import android.content.om.OverlayInfo;
+import android.os.Bundle;
+import android.os.IBinder;
+import android.os.RemoteException;
+import android.os.ServiceManager;
+import android.os.UserHandle;
+import android.util.Log;
+import android.view.View;
+import android.widget.Button;
+import android.widget.Toast;
+
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.List;
+
+public class MainActivity extends Activity {
+    private static final String TAG = "target";
+
+    private static final String TARGET_PACKAGE_NAME = "com.android.test.overlay.target";
+
+    static class Overlay {
+        public final String packageName;
+        public final int userId;
+
+        Overlay(String packageName, int userId) {
+            this.packageName = packageName;
+            this.userId = userId;
+        }
+    };
+
+    private static final Overlay OVERLAY_RED =
+            new Overlay("com.android.test.overlay.red", USER_CURRENT);
+    private static final Overlay OVERLAY_GREEN =
+            new Overlay("com.android.test.overlay.green", USER_CURRENT);
+    private static final Overlay OVERLAY_BLUE =
+            new Overlay("com.android.test.overlay.blue", USER_CURRENT);
+    private static final Overlay OVERLAY_SYSTEM =
+            new Overlay("com.android.test.overlay.system", USER_SYSTEM);
+
+    private static final Overlay[] ALL_OVERLAY_PACKAGES = {
+        OVERLAY_RED,
+        OVERLAY_GREEN,
+        OVERLAY_BLUE,
+        OVERLAY_SYSTEM,
+    };
+
+    private static final String ERR_REMOVE_EXCEPTION =
+            "failed to communicate with system service %s: %s";
+
+    private static final String ERR_SECURITY_EXCEPTION =
+            "insufficient permissions, try running adb exec-out pm grant "
+            + "com.android.test.overlay.target android.permission.CHANGE_OVERLAY_PACKAGES: %s";
+
+    private IOverlayManager mOverlayManager;
+
+    private void log(String msg) {
+        Log.d(TAG, msg);
+
+        Toast toast = Toast.makeText(this, msg, Toast.LENGTH_SHORT);
+        toast.show();
+    }
+
+    private IOverlayManager getOverlayManager() {
+        final IBinder service = ServiceManager.getService(OVERLAY_SERVICE);
+        if (service == null) {
+            log(String.format("failed to get system service %s", OVERLAY_SERVICE));
+            return null;
+        }
+        return IOverlayManager.Stub.asInterface(service);
+    }
+
+    private void enableOverlays(boolean enable, Overlay... overlays) {
+        if (mOverlayManager == null) {
+            return;
+        }
+        try {
+            for (Overlay o : overlays) {
+                final int userId = o.userId == USER_CURRENT ? UserHandle.myUserId() : o.userId;
+                final boolean status = mOverlayManager.setEnabled(o.packageName, enable, userId);
+                if (!status) {
+                    log(String.format("failed to %s %s for user %d", enable ? "enable" : "disable",
+                                o.packageName, userId));
+                }
+            }
+        } catch (RemoteException e) {
+            log(String.format(ERR_REMOVE_EXCEPTION, OVERLAY_SERVICE, e));
+        } catch (SecurityException e) {
+            log(String.format(ERR_SECURITY_EXCEPTION, e));
+        }
+    }
+
+    private void setPriority(String[] overlayPackageNames, int userId) {
+        if (mOverlayManager == null) {
+            return;
+        }
+        if (overlayPackageNames.length < 2) {
+            return;
+        }
+
+        Runnable task = new Runnable() {
+            @Override
+            public void run() {
+                try {
+                    mOverlayManager.setLowestPriority(overlayPackageNames[0], userId);
+                    for (int i = 1; i < overlayPackageNames.length; i++) {
+                        mOverlayManager.setPriority(overlayPackageNames[i],
+                                overlayPackageNames[i - 1], userId);
+                    }
+                } catch (RemoteException e) {
+                    log(String.format(ERR_REMOVE_EXCEPTION, OVERLAY_SERVICE, e));
+                } catch (SecurityException e) {
+                    log(String.format(ERR_SECURITY_EXCEPTION, e));
+                }
+            }
+        };
+        runOnUiThread(task);
+    }
+
+    private void sortOverlays() {
+        final String[] sortedNames = {
+            OVERLAY_RED.packageName,
+            OVERLAY_GREEN.packageName,
+            OVERLAY_BLUE.packageName
+        };
+        final int userId = UserHandle.myUserId();
+        setPriority(sortedNames, userId);
+    }
+
+    private void shuffleOverlays() {
+        if (mOverlayManager == null) {
+            return;
+        }
+        final int userId = UserHandle.myUserId();
+        List<OverlayInfo> overlays;
+        try {
+            overlays = mOverlayManager.getOverlayInfosForTarget(TARGET_PACKAGE_NAME, userId);
+        } catch (RemoteException e) {
+            log(String.format("failed to communicate with system service %s: %s",
+                        OVERLAY_SERVICE, e));
+            return;
+        }
+        final int size = overlays.size();
+        if (size < 2) {
+            return;
+        }
+
+        List<String> currentOrder = new ArrayList<>(size);
+        for (int i = 0; i < size; i++) {
+            currentOrder.add(overlays.get(i).packageName);
+        }
+
+        List<String> newOrder = new ArrayList<>(currentOrder);
+        do {
+            Collections.shuffle(newOrder);
+        } while (newOrder.equals(currentOrder));
+
+        setPriority(newOrder.toArray(new String[size]), userId);
+    }
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_main);
+
+        mOverlayManager = getOverlayManager();
+
+        Button b = (Button) findViewById(R.id.enableRedButton);
+        b.setOnClickListener(new View.OnClickListener() {
+            public void onClick(View v) {
+                enableOverlays(true, OVERLAY_RED);
+            }
+        });
+
+        b = (Button) findViewById(R.id.disableRedButton);
+        b.setOnClickListener(new View.OnClickListener() {
+            public void onClick(View v) {
+                enableOverlays(false, OVERLAY_RED);
+            }
+        });
+
+        b = (Button) findViewById(R.id.enableAllButton);
+        b.setOnClickListener(new View.OnClickListener() {
+            public void onClick(View v) {
+                enableOverlays(true, ALL_OVERLAY_PACKAGES);
+            }
+        });
+
+        b = (Button) findViewById(R.id.disableAllButton);
+        b.setOnClickListener(new View.OnClickListener() {
+            public void onClick(View v) {
+                enableOverlays(false, ALL_OVERLAY_PACKAGES);
+            }
+        });
+
+        b = (Button) findViewById(R.id.sortButton);
+        b.setOnClickListener(new View.OnClickListener() {
+            public void onClick(View v) {
+                sortOverlays();
+            }
+        });
+
+        b = (Button) findViewById(R.id.shuffleButton);
+        b.setOnClickListener(new View.OnClickListener() {
+            public void onClick(View v) {
+                shuffleOverlays();
+            }
+        });
+    }
+}
-- 
2.14.1

